<!DOCTYPE html>
<html>
	<head>
		<title>Мнемосхема</title>
		
		<script src="snap.svg-min.js"></script>
		<script src="utils.js"></script>
		<script src="logic/elements/Led.js"></script>
		<script src="logic/elements/Button.js"></script>
		<script src="logic/elements/Tube.js"></script>
		<script src="logic/elements/Text.js"></script>
		<script src="logic/elements/Smoke.js"></script>
		<script src="logic/Layout.js"></script>
		<script src="logic/Logic.js"></script>
		
		<link rel="stylesheet" type="text/css" href="styles.css">
		
		<style>
			@keyframes blink {
				0% {
					opacity: 1;
				}
				50% {
					opacity: 0;
				}
			}
		</style>
	</head>
	<body style="background: url('background.svg') no-repeat;">
		<svg id="svg" xmlns="http://www.w3.org/2000/svg" width="600mm" height="297mm" viewBox="0 0 600 297">
			<defs>
				<linearGradient id="linearGradient5202">
					<stop id="stop5198" offset="0" style="stop-color:#323232;stop-opacity:1" />
					<stop id="stop5200" offset="1" style="stop-color:#d6d6d6;stop-opacity:1" />
				</linearGradient>
				<linearGradient id="linearGradient5147">
					<stop style="stop-color:#333333;stop-opacity:1" offset="0" id="stop5143" />
					<stop style="stop-color:#000000;stop-opacity:1" offset="1" id="stop5145" />
				</linearGradient>
				<linearGradient id="linearGradient5139">
					<stop style="stop-color:#333333;stop-opacity:1" offset="0" id="stop5135" />
					<stop style="stop-color:#000000;stop-opacity:1" offset="1" id="stop5137" />
				</linearGradient>
				<linearGradient id="linearGradient5039">
					<stop style="stop-color:#ffffff;stop-opacity:1;" offset="0" id="stop5035" />
					<stop style="stop-color:#ffffff;stop-opacity:0;" offset="1" id="stop5037" />
				</linearGradient>
				<linearGradient id="linearGradient5033">
					<stop id="stop5029" offset="0" style="stop-color:#ffdfdf;stop-opacity:1" />
					<stop id="stop5031" offset="1" style="stop-color:#ff3e21;stop-opacity:1" />
				</linearGradient>
				<linearGradient id="linearGradient5027">
					<stop id="stop5023" offset="0" style="stop-color:#995248;stop-opacity:1" />
					<stop id="stop5025" offset="1" style="stop-color:#cfaca7;stop-opacity:1" />
				</linearGradient>
				<linearGradient id="linearGradient5013">
					<stop id="stop5009" offset="0" style="stop-color:#ff9f94;stop-opacity:1" />
					<stop id="stop5011" offset="1" style="stop-color:#ff2200;stop-opacity:1" />
				</linearGradient>
				<linearGradient id="linearGradient5007">
					<stop id="stop5003" offset="0" style="stop-color:#ff9f94;stop-opacity:1" />
					<stop id="stop5005" offset="1" style="stop-color:#ff2200;stop-opacity:1" />
				</linearGradient>
				<linearGradient id="linearGradient4941">
					<stop style="stop-color:#ffffff;stop-opacity:1;" offset="0" id="stop4937" />
					<stop style="stop-color:#ffffff;stop-opacity:0;" offset="1" id="stop4939" />
				</linearGradient>
				<linearGradient id="linearGradient4779">
					<stop style="stop-color:#00fd00;stop-opacity:1" offset="0" id="stop4775" />
					<stop style="stop-color:#00a700;stop-opacity:1" offset="1" id="stop4777" />
				</linearGradient>
				<linearGradient id="linearGradient4741">
					<stop style="stop-color:#d8ffd8;stop-opacity:1" offset="0" id="stop4737" />
					<stop style="stop-color:#00b700;stop-opacity:1" offset="1" id="stop4739" />
				</linearGradient>
				<linearGradient id="linearGradient4714">
					<stop style="stop-color:#ffffff;stop-opacity:1;" offset="0" id="stop4710" />
					<stop style="stop-color:#ffffff;stop-opacity:0;" offset="1" id="stop4712" />
				</linearGradient>
				<linearGradient id="linearGradient4708">
					<stop style="stop-color:#485d48;stop-opacity:1" offset="0" id="stop4704" />
					<stop style="stop-color:#abafab;stop-opacity:1" offset="1" id="stop4706" />
				</linearGradient>
				<linearGradient id="linearGradient4670">
					<stop id="stop4666" offset="0" style="stop-color:#444444;stop-opacity:1" />
					<stop style="stop-color:#dcdcdc;stop-opacity:1" offset="0.13143365" id="stop4672" />
					<stop id="stop4674" offset="0.35411343" style="stop-color:#545454;stop-opacity:1" />
					<stop style="stop-color:#d1d1d1;stop-opacity:1" offset="0.48620284" id="stop4676" />
					<stop id="stop4678" offset="0.69396871" style="stop-color:#404040;stop-opacity:1" />
					<stop id="stop4668" offset="1" style="stop-color:#e4e4e4;stop-opacity:1" />
				</linearGradient>
				<linearGradient xlink:href="#linearGradient4670" id="linearGradient4656" x1="48.790108" y1="31.985704" x2="58.663296" y2="39.139179" gradientUnits="userSpaceOnUse" />
				<linearGradient xlink:href="#linearGradient4708" id="linearGradient4702" gradientUnits="userSpaceOnUse" x1="58.934238" y1="39.982368" x2="49.475685" y2="31.554796" />
				<linearGradient xlink:href="#linearGradient4714" id="linearGradient4716" x1="48.651382" y1="35.369156" x2="59.375412" y2="35.369156" gradientUnits="userSpaceOnUse" />
				<radialGradient xlink:href="#linearGradient4741" id="radialGradient4745" cx="53.882286" cy="31.523285" fx="53.882286" fy="31.523285" r="4.0374064" gradientTransform="matrix(1.1989749,0,0,0.90501636,-10.751404,2.945441)" gradientUnits="userSpaceOnUse" />
				<radialGradient xlink:href="#linearGradient4779" id="radialGradient4781" cx="54.013397" cy="35.369156" fx="54.013397" fy="35.369156" r="4.874722" gradientUnits="userSpaceOnUse" />
				<filter style="color-interpolation-filters:sRGB" id="filter4851" x="-0.011567423" width="1.0231348" y="-0.030676782" height="1.0613536">
					<feGaussianBlur stdDeviation="0.035510042" id="feGaussianBlur4853" />
				</filter>
				<filter style="color-interpolation-filters:sRGB" id="filter4933" x="-0.26024371" width="1.5204874" y="-0.6051445" height="2.210289">
					<feGaussianBlur stdDeviation="0.33051919" id="feGaussianBlur4935" />
				</filter>
				<radialGradient xlink:href="#linearGradient4941" id="radialGradient4943" cx="54.013397" cy="35.369156" fx="54.013397" fy="35.369156" r="4.874722" gradientUnits="userSpaceOnUse" />
				<linearGradient xlink:href="#linearGradient4670" id="linearGradient4957" gradientUnits="userSpaceOnUse" x1="48.790108" y1="31.985704" x2="58.663296" y2="39.139179" />
				<linearGradient xlink:href="#linearGradient5027" id="linearGradient4959" gradientUnits="userSpaceOnUse" x1="58.934238" y1="39.982368" x2="49.475685" y2="31.554796" />
				<linearGradient xlink:href="#linearGradient4714" id="linearGradient4961" gradientUnits="userSpaceOnUse" x1="48.651382" y1="35.369156" x2="59.375412" y2="35.369156" />
				<radialGradient xlink:href="#linearGradient5013" id="radialGradient4963" gradientUnits="userSpaceOnUse" cx="54.013401" cy="35.369156" fx="54.013401" fy="35.369156" r="4.874722" />
				<radialGradient xlink:href="#linearGradient5007" id="radialGradient4965" gradientUnits="userSpaceOnUse" cx="54.013401" cy="35.369156" fx="54.013401" fy="35.369156" r="4.874722" />
				<radialGradient xlink:href="#linearGradient5033" id="radialGradient4967" gradientUnits="userSpaceOnUse" cx="53.882286" cy="31.523285" fx="53.882286" fy="31.523285" r="4.0374064" gradientTransform="matrix(1.1989749,0,0,0.90501636,-10.751404,2.945441)" />
				<filter style="color-interpolation-filters:sRGB" id="filter5063" x="-0.011992876" width="1.0239858" y="-0.031805083" height="1.0636102">
					<feGaussianBlur stdDeviation="0.03681611" id="feGaussianBlur5065" />
				</filter>
				<linearGradient xlink:href="#linearGradient4670" id="linearGradient5101" gradientUnits="userSpaceOnUse" x1="48.790108" y1="31.985704" x2="58.663296" y2="39.139179" />
				<linearGradient xlink:href="#linearGradient5202" id="linearGradient5103" gradientUnits="userSpaceOnUse" x1="58.166473" y1="39.273663" x2="49.782791" y2="31.826468" />
				<linearGradient xlink:href="#linearGradient4714" id="linearGradient5105" gradientUnits="userSpaceOnUse" x1="48.651382" y1="35.369156" x2="59.375412" y2="35.369156" />
				<radialGradient xlink:href="#linearGradient4941" id="radialGradient5109" gradientUnits="userSpaceOnUse" cx="54.013397" cy="35.369156" fx="54.013397" fy="35.369156" r="4.874722" />
				<radialGradient xlink:href="#linearGradient5139" id="radialGradient5141" cx="54.026356" cy="30.343628" fx="54.026356" fy="30.343628" r="3.7690221" gradientTransform="matrix(1.6932383,-0.02411209,0.01063364,1.0080454,-37.77307,2.1734378)" gradientUnits="userSpaceOnUse" />
				<radialGradient xlink:href="#linearGradient5147" id="radialGradient5149" cx="54.026356" cy="30.343628" fx="54.026356" fy="30.343628" r="3.7690221" gradientTransform="matrix(1.6932383,-0.02411209,0.01063364,1.0080454,-37.77307,2.1734378)" gradientUnits="userSpaceOnUse" />
				
				<radialGradient id="button-on">
					<stop offset="50%"  stop-color="#84ff84"/>
					<stop offset="100%" stop-color="#77ed77"/>
				</radialGradient>
				<radialGradient id="button-off">
					<stop offset="50%"  stop-color="#e19595"/>
					<stop offset="100%" stop-color="#ed7777"/>
				</radialGradient>
				
				<linearGradient id="switch-overlay" gradientTransform="rotate(90)">
					<stop offset="0%" style="stop-color:#1a1a1a;"/>
					<stop offset="30%" style="stop-color:#f9f9f9;"/>
					<stop offset="100%" style="stop-color:#333333;"/>
				</linearGradient>
				<linearGradient id="fork" gradientTransform="rotate(90)">
					<stop offset="0%" style="stop-color:#666666;"/>
					<stop offset="25%" style="stop-color:#9d9d9d;"/>
					<stop offset="100%" style="stop-color:#4d4d4d;"/>
				</linearGradient>
			
				<filter x="-0.30000001" width="1.6" y="-0.30000001" height="1.6" style="color-interpolation-filters:sRGB" id="smoke">
					<feGaussianBlur stdDeviation="15.4 12.82" result="blur" id="feGaussianBlur7588"/>
				</filter>
			</defs>
		</svg>
		
		<script>
			var svg = Snap('svg'), layout, logic;
			layout = new Layout(svg);
			logic = new Logic(layout);
			
			request();
			var requestInterval = setInterval(function() {request()}, 10000);
		</script>
	</body>
</html>